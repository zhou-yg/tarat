# 插件和拓展 机制

在core和server分别有实现类似拓展的机制，需要在本体加一个非核心功能的时候，

这时候插件模式就比较适用

纵观各种框架，他们的插件机制都不太一样

那是因为框架面向插件的通常是2类：
- 流程上的修改或接管
- 框架的一个切面

在tarat不巧同时有这两类
- core，切面
- server，流程

## core

### 插件

有2个地方需要插件支持：
- model读写
- context在2段的请求同步
- 不同cache介质的读写

在使用core时需要分别提供上述实现的插件，才能让core正确运转

core内部提供一个默认使用，用以运行程序并提示

## 管理core插件

在有了插件，就必须涉及对插件运行顺序和生命周期设计，这里先简单点

最简单规则是：一类插件只能有1个，互相覆盖